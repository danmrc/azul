<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>
  
     Comportamento de Random Walks | 
    AZUL
  
</title><meta name="description" content="Economia, Estatística, Programação"><meta name="author" content="pedrocava">

<link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/favicon-32x32.png " sizes="32x32" type="image/png">
<link rel="icon" href="/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#0c344b">
<link rel="icon" href="/favicon.ico">


    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism-okaidia.min.css">
    



    
        
            <link rel="stylesheet" href="/dist/main.37ab3f61b95417873748.min.css">
        
    




<link rel="canonical" href="/post/varianciaderandomwalks/var-random-walks/"><meta property="og:title" content="Comportamento de Random Walks" />
<meta property="og:description" content="Um processo estocástico autoregressivo com \(1\) lag, doravante chamado de AR1, é, no caso simplificado em uma dimensão que eu abordarei aqui, descrito como:
\[y_t = \beta y_{t-1} &#43; \mu_t\] Para algum \(y_o = c\) e, no caso com que lidaremos hoje, \(\beta \in \mathbb{R}\) e \(\mu_t \sim N(0, \sigma^2)\), logo vale que $[_t] = 0 $.
Variância e Esperança do Processo AR1 Esperança Vamos agora caracterizar o Valor Esperado e a Variância desse processo, assim como caracterizaríamos os dois primeiros momentos centrais de uma distribuição." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/varianciaderandomwalks/var-random-walks/" />
<meta property="article:published_time" content="2019-06-10T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-06-10T00:00:00+00:00" />
<meta itemprop="name" content="Comportamento de Random Walks">
<meta itemprop="description" content="Um processo estocástico autoregressivo com \(1\) lag, doravante chamado de AR1, é, no caso simplificado em uma dimensão que eu abordarei aqui, descrito como:
\[y_t = \beta y_{t-1} &#43; \mu_t\] Para algum \(y_o = c\) e, no caso com que lidaremos hoje, \(\beta \in \mathbb{R}\) e \(\mu_t \sim N(0, \sigma^2)\), logo vale que $[_t] = 0 $.
Variância e Esperança do Processo AR1 Esperança Vamos agora caracterizar o Valor Esperado e a Variância desse processo, assim como caracterizaríamos os dois primeiros momentos centrais de uma distribuição.">
<meta itemprop="datePublished" content="2019-06-10T00:00:00+00:00" />
<meta itemprop="dateModified" content="2019-06-10T00:00:00+00:00" />
<meta itemprop="wordCount" content="533">



<meta itemprop="keywords" content="Econometria,OLS,Simulações," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Comportamento de Random Walks"/>
<meta name="twitter:description" content="Um processo estocástico autoregressivo com \(1\) lag, doravante chamado de AR1, é, no caso simplificado em uma dimensão que eu abordarei aqui, descrito como:
\[y_t = \beta y_{t-1} &#43; \mu_t\] Para algum \(y_o = c\) e, no caso com que lidaremos hoje, \(\beta \in \mathbb{R}\) e \(\mu_t \sim N(0, \sigma^2)\), logo vale que $[_t] = 0 $.
Variância e Esperança do Processo AR1 Esperança Vamos agora caracterizar o Valor Esperado e a Variância desse processo, assim como caracterizaríamos os dois primeiros momentos centrais de uma distribuição."/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>



</head>
<body>
    
<nav class="navbar navbar-expand-md navbar-light bg-light fixed-top shadow-sm" id="navbar-main-menu">
    <div class="container">
        <a class="navbar-brand font-weight-bold" href="/">AZUL</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-menu" aria-controls="main-menu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="main-menu">
            <ul class="navbar-nav ml-auto">
                
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/categories/">Categorias</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/about/">Sobre</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/tags/">Tags</a></li>
                
            
            </ul>
        </div>
    </div>
</nav>


    
<main class="content-page container pt-7 pb-5">
    
    <div class="row">
        <div class="col">
            <article>
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="meta text-muted mb-3">
                            <p class="created text-muted text-uppercase font-weight-bold mb-1">June 10, 2019</p>
                            <span class="mr-2"><i class="fas fa-book-open mr-2"></i>533 words</span>
                            <span><i class="fas fa-clock mr-2"></i>3 mins read</span>
                        </div>

                        <h1>Comportamento de Random Walks</h1>

                        <ul class="authors list-inline"><li class="list-inline-item mr-3">
                    <div class="media author"><div class="media-body">
                            <h5 class="name my-0"><a href="/authors/pedrocava/" class="small">Pedro Cavalcante</a>
                            </h5><p class="social small text-muted">
                                    <a href="https://twitter.com/@pedroocava">@PedrooCava</a>
                                </p></div>
                    </div>
                </li></ul>
                    </div>
                </div><div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="content">
                            


<p>Um processo estocástico autoregressivo com <span class="math inline">\(1\)</span> lag, doravante chamado de AR1, é, no caso simplificado em uma dimensão que eu abordarei aqui, descrito como:</p>
<p><span class="math display">\[y_t = \beta y_{t-1} + \mu_t\]</span> Para algum <span class="math inline">\(y_o = c\)</span> e, no caso com que lidaremos hoje, <span class="math inline">\(\beta \in \mathbb{R}\)</span> e <span class="math inline">\(\mu_t \sim N(0, \sigma^2)\)</span>, logo vale que $[_t] = 0 $.</p>
<div id="variancia-e-esperanca-do-processo-ar1" class="section level1">
<h1>Variância e Esperança do Processo AR1</h1>
<div id="esperanca" class="section level2">
<h2>Esperança</h2>
<p>Vamos agora caracterizar o Valor Esperado e a Variância desse processo, assim como caracterizaríamos os dois primeiros momentos centrais de uma distribuição. Note que o operador de Esperança é <em>linear</em>, isso é importante.</p>
<p><span class="math display">\[\mathbb{E} [y_t] = \mathbb{E} [\beta y_{t-1} + \mu_t]\]</span> <span class="math display">\[\mathbb{E} [y_t] = \beta\mathbb{E} [ y_{t-1}] + \mathbb{E}[\mu_t]\]</span> <span class="math display">\[\mathbb{E} [y_t] = \beta\mathbb{E} [ \beta y_{t-2} + \mu_{t-1}] + 0\]</span> <span class="math display">\[\mathbb{E} [y_t] = \beta^2\mathbb{E} [y_{t-2}] + \mathbb{E}[\mu_{t-1}] + 0\]</span></p>
<p>Acho que o leitor já captou o padrão aqui. Se não, recomendo continuar o processo mais algumas vezes no papel. No final chegaremos em:</p>
<p><span class="math display">\[\mathbb{E} [y_t] = \beta^t y_0\]</span></p>
<p>Espero que seja claro ao leitor também - ou que a verificação não tome muito tempo - que se <span class="math inline">\(| \beta | &lt; 1\)</span> então <span class="math inline">\(\lim_{t \to \infty}\beta^t y_0 = 0\)</span>. No entanto o mesmo limite explode para infinito se o parâmetro for maior ou igual a <span class="math inline">\(1\)</span> em módulo.</p>
</div>
<div id="variancia" class="section level2">
<h2>Variância</h2>
<p>Note que variância de constantes dadas é <span class="math inline">\(0\)</span> e que variância de combinações lineares de variáveis aleatórias independentes é soma das variâncias de cada variável. Podemos reduzir a variância de <span class="math inline">\(y_t\)</span> à:</p>
<p><span class="math display">\[\mathbb{V}[y_t] = \mathbb{V} [\sum_{i=1}^t \mu_i] \]</span> <span class="math display">\[ \mathbb{V} [\sum_{i=1}^t \mu_i]  = \sum_{i=1}^t\mathbb{V}[\mu_i]\]</span> Como <span class="math inline">\(\mathbb{V}[\mu_i] = \sigma^2\)</span>, vale que <span class="math inline">\(\mathbb{V}[y_t] = t \sigma^2\)</span>. Esperamos variância crescente com o tempo, porém que sorteios diferentes do mesmo processo se cancelem perto de zero - ou melhor, que não exista alguma forte de viés para números positivos ou negativos. Será que podemos verificar isso acontecendo?</p>
</div>
</div>
<div id="simulando" class="section level1">
<h1>Simulando</h1>
<p>Vamos simular alguns processos random walk:</p>
<pre class="r"><code>library(tidyverse)
library(gganimate)

processos = list()
tmax = 10000
inicial = 0
nprocessos = 50
beta = 1
set.seed(1234)

for(i in 1:nprocessos) {
  
  t = seq(1, tmax)
  processo = vector(length = tmax)
  processo[1] = inicial
  
  for(j in 2:tmax) {
  
  choque = rnorm(n = 1)
    
  processo[j] = beta*processo[j-1] + choque
  
  }
  
  dados = tibble(t = t,
                 processo = processo)

  
  processos[[i]] = dados

  
}

processos = do.call(rbind, processos) # agregamos as listas</code></pre>
<p>Vamos entender o que acabamos de produzir. Criamos <code>50</code> processos estocásticos com características muito similares. Condição inicial no zero, sujeitos a choques com a mesma distribuição probabilística e com a mesma “inércia”. Valores anteriores são repassados integralmente. Vamos primeiro visualizar um processo sozinho:</p>
<pre class="r"><code>processos[1:tmax,] %&gt;%
  ggplot(aes(x = t, y = processo)) +
  geom_point() +
  transition_reveal(t)</code></pre>
<p><img src="/post/var_random_walks_files/figure-html/unnamed-chunk-2-1.gif" /><!-- --></p>
<pre class="r"><code>processos[1:tmax,] %&gt;%
  ggplot(aes(x = t, y = processo)) +
  geom_line(size = 1.2)</code></pre>
<p><img src="/post/var_random_walks_files/figure-html/unnamed-chunk-2-2.png" width="1400" /></p>
<p>Vamos observar agora o comportamento conjunto dos processos <em>pontualmente</em> em cada instante <span class="math inline">\(t\)</span>.</p>
<pre class="r"><code>processos %&gt;%
  ggplot(aes(x = t, y = processo)) +
  geom_point() +
  transition_reveal(t)</code></pre>
<p><img src="/post/var_random_walks_files/figure-html/unnamed-chunk-3-1.gif" /><!-- --></p>
<pre class="r"><code>processos %&gt;%
  ggplot(aes(x = t, y = processo)) +
  geom_point() </code></pre>
<p><img src="/post/var_random_walks_files/figure-html/unnamed-chunk-4-1.png" width="1400" /></p>
<p>De fato, parece que conseguimos o</p>
<p>bservar o comportamento previsto na teoria. Em breve revisitarei esse post falando de processos AR1 que regridem assintoticamente a um patamar e mostrar como isso está conectado com o Teorema do Ponto Fixo de Banach - de que já falei aqui no blog.</p>
</div>

                        </div><div class="tags my-3"><a class="badge badge-pill badge-light border mr-2" href="/tags/econometria">
                                    <i class="fas fa-tag mr-2"></i>Econometria
                                </a><a class="badge badge-pill badge-light border mr-2" href="/tags/ols">
                                    <i class="fas fa-tag mr-2"></i>OLS
                                </a><a class="badge badge-pill badge-light border mr-2" href="/tags/simula%C3%A7%C3%B5es">
                                    <i class="fas fa-tag mr-2"></i>Simulações
                                </a></div><ul class="share nav my-3 justify-content-end">
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://twitter.com/intent/tweet?url=%2fpost%2fvarianciaderandomwalks%2fvar-random-walks%2f&text=Comportamento%20de%20Random%20Walks">
              <i class="fa-fw fab fa-twitter"></i>
          </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://www.linkedin.com/shareArticle?url=%2fpost%2fvarianciaderandomwalks%2fvar-random-walks%2f&title=Comportamento%20de%20Random%20Walks">
                <i class="fa-fw fab fa-linkedin-in"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://www.facebook.com/sharer.php?u=%2fpost%2fvarianciaderandomwalks%2fvar-random-walks%2f&t=Comportamento%20de%20Random%20Walks">
                <i class="fa-fw fab fa-facebook-f"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://reddit.com/submit?url=%2fpost%2fvarianciaderandomwalks%2fvar-random-walks%2f&title=Comportamento%20de%20Random%20Walks">
                <i class="fa-fw fab fa-reddit-alien"></i>
            </a>
        </li>
    </nav>
                    </div>
                </div>

                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        
                    </div>
                </div></article>
        </div>
    </div>

    <div class="related-content row mt-5 row-cols-1 row-cols-lg-3"><div class="col mb-3">
                <div class="card h-100">
    
    <a href="/post/consistenciaassintoticaols/consistencia-assintotica-ols/" class="d-block"><div class="card-body">
            <h4 class="card-title">Verificando algumas propriedades de Mínimos Quadrados com o R</h4>
            <p class="card-text text-muted text-uppercase">March 28, 2019</p>
            <div class="card-text">
                Para você, bravo leitor que conseguiu superar o título horrível deste post e abriu o link, devo algo interessante. Já adianto que normalidade (assintótica) de um estimador não é lá o assunto mais empolgante do mundo. Fiz esse post pensando que esse tema faz parte da longa lista de assuntos tratados de maneira assustadoramente teórica em salas de aula pelo mundo. Consistência assintótica, convergência em distribuição e Teorema do Limite Central são excelentes conceitos para serem introduzidos com uma abordagem computacional, do ver acontecendo.
            </div>
        </div>
    </a>
</div>

            </div><div class="col mb-3">
                <div class="card h-100">
    
    <a href="/post/vi%C3%A9s-de-vari%C3%A1veis-instrumentais/" class="d-block"><div class="card-body">
            <h4 class="card-title">Viés de variáveis instrumentais</h4>
            <p class="card-text text-muted text-uppercase">August 19, 2018</p>
            <div class="card-text">
                Como prometido no post anterior, vamos usar simulação para testar algumas coisas. A primeira delas é um problema curioso e (relativamente) pouco explorado: o viés ao usarmos muitos instrumentos em variáveis instrumentais. O excelente Mostly Harmless Econometrics, de Angrist e Pischke, conta com uma discussão sobre o tema na seção 4.6.4 - não surpreendentemente chamada de Bias of 2SLS.
Antes, uma recapitulação sobre variáveis instrumentais (se você não aprendeu sobre variáveis instrumentais, qualquer livro básico de econometria vai falar sobre o tópico): suponha que você tem o modelo \(y =x\beta&#43;e\) e você sabe que \(E(ex) \neq 0\) - ou seja, temos um problema de endogenidade.
            </div>
        </div>
    </a>
</div>

            </div></div>
</main>


    <footer class="footer text-center bg-dark py-6">
    <div class="container">
        <div class="row">
            <div class="col">
                <ul class="list-inline">
                    <li class="list-inline-item"><a href="/index.xml" rel="alternate" type="application/rss+xml" class="icons d-block">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a></li><li class="list-inline-item">
                            <a href="https://github.com/danmrc/azul/tree/master/C%C3%B3digos" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                </ul>

                <p class="text-muted">
                    
                        Copyright © 2008–2020, Pedro Cavalcante & Daniel Coutinho; all rights reserved.
                    
                </p>

                <p class="text-muted">
                Powered by <a href="https://gohugo.io" target="_blank">Hugo</a> with <a href="https://github.com/puresyntax71/hugo-theme-chunky-poster" target="_blank">Chunky Poster</a>.
                </p>
            </div>
        </div>
    </div>
</footer>

    
    
        
            <script src="/dist/main.d608eadfe5ac0688902e.min.js"></script>
        
    



<script>
    window.Prism = window.Prism || {};
    window.Prism.manual = true;
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/plugins/autoloader/prism-autoloader.min.js"></script>






    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-123754589-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</body>
</html>
